{"ast":null,"code":"import _classPrivateFieldLooseBase from \"/Users/kristinasoskova/mesto-react-sign/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";\nimport _classPrivateFieldLooseKey from \"/Users/kristinasoskova/mesto-react-sign/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";\nvar _onResponce = /*#__PURE__*/_classPrivateFieldLooseKey(\"onResponce\");\nclass Api {\n  constructor(options) {\n    Object.defineProperty(this, _onResponce, {\n      value: _onResponce2\n    });\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    }).then(res => {\n      return _classPrivateFieldLooseBase(this, _onResponce)[_onResponce](res);\n    });\n  }\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    }).then(res => {\n      return _classPrivateFieldLooseBase(this, _onResponce)[_onResponce](res);\n    });\n  }\n  getEditUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.fullname,\n        about: data.profession\n      })\n    }).then(res => {\n      return _classPrivateFieldLooseBase(this, _onResponce)[_onResponce](res);\n    });\n  }\n  getAddCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(res => {\n      return _classPrivateFieldLooseBase(this, _onResponce)[_onResponce](res);\n    });\n  }\n  removeCard(idCard) {\n    return fetch(`${this._url}/cards/${idCard}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(res => {\n      return _classPrivateFieldLooseBase(this, _onResponce)[_onResponce](res);\n    });\n  }\n  changeAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar `, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(res => {\n      return _classPrivateFieldLooseBase(this, _onResponce)[_onResponce](res);\n    });\n  }\n  toggleLike(id, isLike) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: isLike ? \"DELETE\" : \"PUT\",\n      headers: this._headers\n    }).then(res => {\n      return _classPrivateFieldLooseBase(this, _onResponce)[_onResponce](res);\n    });\n  }\n}\nfunction _onResponce2(res) {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject({\n    message: \"Ошибка\",\n    res\n  });\n}\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-51\",\n  headers: {\n    authorization: \"b75081c3-63ae-4231-8d9c-4e1ac7e43aad\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","options","_url","url","_headers","headers","getUserInfo","fetch","then","res","getInitialCards","getEditUserInfo","data","method","body","JSON","stringify","name","fullname","about","profession","getAddCard","removeCard","idCard","changeAvatar","avatar","toggleLike","id","isLike","ok","json","Promise","reject","message","api","authorization"],"sources":["/Users/kristinasoskova/mesto-react-sign/src/utils/Api.js"],"sourcesContent":["\nclass Api {\n  #onResponce(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject({ message: \"Ошибка\", res });\n  }\n\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, { headers: this._headers }).then(\n      (res) => {\n        return this.#onResponce(res);\n      }\n    );\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, { headers: this._headers }).then(\n      (res) => {\n        return this.#onResponce(res);\n      }\n    );\n  }\n\n  getEditUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.fullname,\n        about: data.profession,\n      }),\n    }).then((res) => {\n      return this.#onResponce(res);\n    });\n  }\n\n  getAddCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then((res) => {\n      return this.#onResponce(res);\n    });\n  }\n\n  removeCard(idCard) {\n    return fetch(`${this._url}/cards/${idCard}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => {\n      return this.#onResponce(res);\n    });\n  }\n\n  changeAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar `, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({ avatar: data.avatar }),\n    }).then((res) => {\n      return this.#onResponce(res);\n    });\n  }\n\n  toggleLike(id, isLike) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: isLike ? \"DELETE\" : \"PUT\",\n      headers: this._headers,\n    }).then((res) => {\n      return this.#onResponce(res);\n    });\n  }\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-51\",\n  headers: {\n    authorization: \"b75081c3-63ae-4231-8d9c-4e1ac7e43aad\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n\nexport default api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}